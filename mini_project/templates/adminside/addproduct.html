{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Product - Admin Dashboard</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="{% static 'assets/vendors/mdi/css/materialdesignicons.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendors/css/vendor.bundle.base.css' %}">
    
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <!-- End layout styles -->
    <link rel="shortcut icon" href="assets/images/favicon.ico" />
    <!-- image crop -->
    <link rel="stylesheet" href="path/to/cropper.min.css">

</head>
<body>
    <style>
        /* Basic styling for the content area */
        .content {
            padding: 20px 30rem;
            background-image: url();
        }

        /* Styling for form elements */
        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: bold;
        }

        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        /* Styling for the "Add Product" button */
        .add-product-button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
        }

        .add-product-button:hover {
            background-color: #0056b3;
        }

        /* Add more specific styling as needed */
    </style>

<nav class="navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
        
    <div class="navbar-menu-wrapper d-flex align-items-stretch">
      <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
        <span class="mdi mdi-menu"></span>
      </button>
      
      <!-- <ul class="navbar-nav navbar-nav-right">
        <li class="nav-item nav-profile dropdown"> -->
          
    </ul> 
    </div>
  </nav>
  <!-- partial -->
  <div class="container-fluid page-body-wrapper">
    <!-- partial:partials/_sidebar.html -->
    <nav class="sidebar sidebar-offcanvas" id="sidebar">
      <ul class="nav">
        <li class="nav-item nav-profile">
          <a href="#" class="nav-link">
            <!-- <div class="nav-profile-image">
              <img src="{% static 'assets/images/faces/face1.jpg' %}" alt="profile">
              <span class="login-status online"></span>
              
            </div> -->
            <div class="nav-profile-text d-flex flex-column">
              <span class="font-weight-bold mb-2">Jisha k. </span>
              <span class="text-secondary text-small">Project Manager</span>
            </div>
            <i class="mdi mdi-bookmark-check text-success nav-profile-badge"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="index.html">
            <span class="menu-title">Dashboard</span>
            <i class="mdi mdi-home menu-icon"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="pages/forms/basic_elements.html"></a>
            <a class="nav-link" href="{% url 'sales_report' %}">
            <span class="menu-title"> Sales Report </span>
            <i class="mdi mdi-format-list-bulleted menu-icon"></i>
          </a>
        </li>
       
        <li class="nav-item">
          <a class="nav-link" href="pages/icons/mdi.html">
            <a class="nav-link" href="{% url 'user_management' %}">
            <span class="menu-title">User Management</span>
            <i class="mdi mdi-contacts menu-icon"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="pages/forms/basic_elements.html"></a>
            <a class="nav-link" href="{% url 'add_category' %}">
            <span class="menu-title"> Category Management</span>
            <i class="mdi mdi-format-list-bulleted menu-icon"></i>
          </a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="pages/tables/basic-table.html"></a>
            <a class="nav-link" href="{% url 'productview' %}">
            <span class="menu-title">Product Management</span>
            <i class="mdi mdi-table-large menu-icon"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="pages/tables/basic-table.html"></a>
            <a class="nav-link" href="{% url 'order_management' %}">
            <span class="menu-title">Order Management</span>
            <i class="mdi mdi-table-large menu-icon"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="pages/tables/basic-table.html"></a>
            <a class="nav-link" href="{% url 'stock_list' %}">
            <span class="menu-title">Stock Management</span>
            <i class="mdi mdi-table-large menu-icon"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="pages/icons/mdi.html"></a>
            <a class="nav-link" href="{% url 'log_out' %}">
            <span class="menu-title">Log Out</span>
            <i class="mdi mdi-power"></i>
          </a>
        </li>
        
      </ul>
    </nav>

    <!-- Content -->
    <div class="content">
        <h2>Add Product</h2>
        {% for message in messages %} <p>{{ message }}</p> {% endfor %}
        <form method="POST" action="{% url 'addproduct' %}" enctype="multipart/form-data">
            {% csrf_token %}   
            <div class="form-group">
                <label for="name">Product Name:</label>
                <input type="text" id="name" name="name" step="0.01" required>
            </div>
            <div class="form-group">
                <label for="quantity">Quantity:</label>
                <input type="number" id="quantity" name="quantity" step="0.01" required>
            </div>
            <div class="form-group">
                <label for="price">Price:</label>
                <input type="number" id="price" name="price" step="0.01" required>
            </div>
            
            <div class="form-group">
              <label for="size">Size</label>
              <select id="size" name="size" >
                  <option value="" selected disabled>Select Size</option>
                      <option value="7">7-inch</option>
                      <option value="8">8-inch</option>
                      <option value="9">9-inch</option>
                      
              </select>

            </div> 
            <div class="form-group">
              <label for="price">Is_varient</label>
              <input type="checkbox" id="bool" name="varient" step="0.01" value="true" >
            </div>
            <div class="form-group">
                <label for="image">Choose Image</label>
                <input type="file" id="image" name="image"  step="0.01" required>
                
            </div>
<!-- image crop -->
            <!-- <div>
              <div id="imagePreview" style="max-width: 100%; overflow: hidden"></div>

              <button type="button" id="cropButton">Crop Image</button>            
              <input type="hidden" id="x" name="x">
              <input type="hidden" id="y" name="y">
              <input type="hidden" id="width" name="width">
              <input type="hidden" id="height" name="height">
            </div> -->
            

            <div class="form-group">
                <label for="images">Sub Image</label>
                <input type="file" id="images" name="subimages" multiple accept="image/*">
                <div id="imagesPreview"></div>
            </div>
            <div class="form-group">
                <label for="price">Description</label>
                <input type="text" id="discription" name="discription" step="0.01" required>
            </div>
            <div class="form-group">
                <label for="category">Category:</label>
                <select id="category" name="category" required>
                    <option value="" disabled selected>Select a Category</option>
                    {% for i in category %}
                    <option value="{{i.Name}}">{{i.Name}}</option>
                    {% endfor %}
                </select>
                
                
            </div>
            <div class="form-group">
                <button type="submit" class="add-product-button">Add Product</button>
            </div>
            
        </form>
       

    </div>

    
  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
   

<!-- image crop script -------------------------------------->
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropper/4.1.0/cropper.min.js"></script>
<script src="path/to/cropper.min.js"></script>
<script>
  
  document.addEventListener("DOMContentLoaded", function () {
    var image = document.getElementById('imageInput');
    var cropper = new Cropper(image, {
      aspectRatio: 1, 
      viewMode: 2,    
    });


    document.getElementById('cropButton').addEventListener('click', function () {
      // Get the cropped area coordinates and dimensions
      var cropData = cropper.getData();

      document.getElementById('x').value = cropData.x;
      document.getElementById('y').value = cropData.y;
      document.getElementById('width').value = cropData.width;
      document.getElementById('height').value = cropData.height;

      // Submit the form (or you can perform AJAX submission)
      document.querySelector('form').submit();
    });
  });
</script>



</body>
</html>